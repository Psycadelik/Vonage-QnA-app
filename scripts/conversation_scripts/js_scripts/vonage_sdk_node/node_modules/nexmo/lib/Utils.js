"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var querystring = require("querystring");

exports.createPathWithQuery = function (path, query) {
  if (!query) {
    throw new Error('"query" is a required parameter');
  }

  var pathExt = "";
  if (typeof query === "string") {
    // single call Id
    pathExt = "/" + query;
  } else if ((typeof query === "undefined" ? "undefined" : _typeof(query)) === "object" && Object.keys(query).length > 0) {
    // filter
    pathExt = "?" + querystring.stringify(query);
  }

  return "" + path + pathExt;
};

exports.getQuery = function (path) {
  return querystring.parse(path.split("?")[1]);
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9VdGlscy5qcyJdLCJuYW1lcyI6WyJxdWVyeXN0cmluZyIsInJlcXVpcmUiLCJleHBvcnRzIiwiY3JlYXRlUGF0aFdpdGhRdWVyeSIsInBhdGgiLCJxdWVyeSIsIkVycm9yIiwicGF0aEV4dCIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJzdHJpbmdpZnkiLCJnZXRRdWVyeSIsInBhcnNlIiwic3BsaXQiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJQSxjQUFjQyxRQUFRLGFBQVIsQ0FBbEI7O0FBRUFDLFFBQVFDLG1CQUFSLEdBQThCLFVBQVNDLElBQVQsRUFBZUMsS0FBZixFQUFzQjtBQUNsRCxNQUFJLENBQUNBLEtBQUwsRUFBWTtBQUNWLFVBQU0sSUFBSUMsS0FBSixDQUFVLGlDQUFWLENBQU47QUFDRDs7QUFFRCxNQUFJQyxVQUFVLEVBQWQ7QUFDQSxNQUFJLE9BQU9GLEtBQVAsS0FBaUIsUUFBckIsRUFBK0I7QUFDN0I7QUFDQUUsb0JBQWNGLEtBQWQ7QUFDRCxHQUhELE1BR08sSUFBSSxRQUFPQSxLQUFQLHlDQUFPQSxLQUFQLE9BQWlCLFFBQWpCLElBQTZCRyxPQUFPQyxJQUFQLENBQVlKLEtBQVosRUFBbUJLLE1BQW5CLEdBQTRCLENBQTdELEVBQWdFO0FBQ3JFO0FBQ0FILG9CQUFjUCxZQUFZVyxTQUFaLENBQXNCTixLQUF0QixDQUFkO0FBQ0Q7O0FBRUQsY0FBVUQsSUFBVixHQUFpQkcsT0FBakI7QUFDRCxDQWZEOztBQWlCQUwsUUFBUVUsUUFBUixHQUFtQixVQUFTUixJQUFULEVBQWU7QUFDaEMsU0FBT0osWUFBWWEsS0FBWixDQUFrQlQsS0FBS1UsS0FBTCxDQUFXLEdBQVgsRUFBZ0IsQ0FBaEIsQ0FBbEIsQ0FBUDtBQUNELENBRkQiLCJmaWxlIjoiVXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcXVlcnlzdHJpbmcgPSByZXF1aXJlKFwicXVlcnlzdHJpbmdcIik7XG5cbmV4cG9ydHMuY3JlYXRlUGF0aFdpdGhRdWVyeSA9IGZ1bmN0aW9uKHBhdGgsIHF1ZXJ5KSB7XG4gIGlmICghcXVlcnkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1wicXVlcnlcIiBpcyBhIHJlcXVpcmVkIHBhcmFtZXRlcicpO1xuICB9XG5cbiAgdmFyIHBhdGhFeHQgPSBcIlwiO1xuICBpZiAodHlwZW9mIHF1ZXJ5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgLy8gc2luZ2xlIGNhbGwgSWRcbiAgICBwYXRoRXh0ID0gYC8ke3F1ZXJ5fWA7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHF1ZXJ5ID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5rZXlzKHF1ZXJ5KS5sZW5ndGggPiAwKSB7XG4gICAgLy8gZmlsdGVyXG4gICAgcGF0aEV4dCA9IGA/JHtxdWVyeXN0cmluZy5zdHJpbmdpZnkocXVlcnkpfWA7XG4gIH1cblxuICByZXR1cm4gYCR7cGF0aH0ke3BhdGhFeHR9YDtcbn07XG5cbmV4cG9ydHMuZ2V0UXVlcnkgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBxdWVyeXN0cmluZy5wYXJzZShwYXRoLnNwbGl0KFwiP1wiKVsxXSk7XG59O1xuIl19